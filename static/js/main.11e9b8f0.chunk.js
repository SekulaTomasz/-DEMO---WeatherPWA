(this["webpackJsonpweather-pwa"]=this["webpackJsonpweather-pwa"]||[]).push([[0],Array(29).concat([function(e,n,t){var r={"./01d.svg":68,"./01n.svg":69,"./02d.svg":70,"./02n.svg":71,"./03d.svg":72,"./03n.svg":73,"./04d.svg":74,"./04n.svg":75,"./09d.svg":76,"./09n.svg":77,"./10d.svg":78,"./10n.svg":79,"./11d.svg":80,"./11n.svg":81,"./13d.svg":82,"./13n.svg":83,"./50d.svg":84,"./50n.svg":85,"./iconfinder_Drip_5729390.svg":86,"./iconfinder_Foggy_Cloud_5729389.svg":87,"./iconfinder_Lightning_5729386.svg":88,"./iconfinder_Snow_Clody_5729380.svg":89,"./iconfinder_Snowing_5729381.svg":90,"./iconfinder_Windy_5729377.svg":91};function a(e){var n=i(e);return t(n)}function i(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=29},,,,,,,,,,function(e,n,t){e.exports=t(92)},,,,,function(e,n,t){},function(e,n,t){},,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/01d.18ae8b6a.svg"},function(e,n,t){e.exports=t.p+"static/media/01n.abd97416.svg"},function(e,n,t){e.exports=t.p+"static/media/02d.51461db4.svg"},function(e,n,t){e.exports=t.p+"static/media/02n.33e7fec5.svg"},function(e,n,t){e.exports=t.p+"static/media/03d.6dfb3b61.svg"},function(e,n,t){e.exports=t.p+"static/media/03n.6dfb3b61.svg"},function(e,n,t){e.exports=t.p+"static/media/04d.6dfb3b61.svg"},function(e,n,t){e.exports=t.p+"static/media/04n.6dfb3b61.svg"},function(e,n,t){e.exports=t.p+"static/media/09d.2cf3bb1c.svg"},function(e,n,t){e.exports=t.p+"static/media/09n.2cf3bb1c.svg"},function(e,n,t){e.exports=t.p+"static/media/10d.3373d822.svg"},function(e,n,t){e.exports=t.p+"static/media/10n.c13e538e.svg"},function(e,n,t){e.exports=t.p+"static/media/11d.a922c3fd.svg"},function(e,n,t){e.exports=t.p+"static/media/11n.a922c3fd.svg"},function(e,n,t){e.exports=t.p+"static/media/13d.74f45bc4.svg"},function(e,n,t){e.exports=t.p+"static/media/13n.74f45bc4.svg"},function(e,n,t){e.exports=t.p+"static/media/50d.57afbca9.svg"},function(e,n,t){e.exports=t.p+"static/media/50n.57afbca9.svg"},function(e,n,t){e.exports=t.p+"static/media/iconfinder_Drip_5729390.01e4b4f2.svg"},function(e,n,t){e.exports=t.p+"static/media/iconfinder_Foggy_Cloud_5729389.7125fd31.svg"},function(e,n,t){e.exports=t.p+"static/media/iconfinder_Lightning_5729386.d88b95fa.svg"},function(e,n,t){e.exports=t.p+"static/media/iconfinder_Snow_Clody_5729380.2be9bd0f.svg"},function(e,n,t){e.exports=t.p+"static/media/iconfinder_Snowing_5729381.85b6d51b.svg"},function(e,n,t){e.exports=t.p+"static/media/iconfinder_Windy_5729377.e977faa6.svg"},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(30),c=t.n(i),o=(t(44),t(2)),u=t(4),l=(t(45),t(3));function s(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return s=function(){return e},e}var d=l.b.div(s()),f=function(){return a.a.createElement(d,null,a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))},m=Object(r.createContext)({}),p=function(e){var n=e.children,t=Object(r.useState)(!1),i=Object(u.a)(t,2),c=i[0],o=i[1];return a.a.createElement(m.Provider,{value:{toggleLoader:o}},c&&a.a.createElement(f,null),n)},b=t(36),v="3rem",g="2.125rem",y="1.5rem",h="1rem",x="0.875rem",E="1rem",j={appTitle:"Weather APP",autocompletePlaceholder:"Wyszukaj...",modalTitle:"Dodaj nowe miasto",cancel:"Anuluj",add:"Dodaj",errorMessages:{cityExistInDb:"Wybrane miasto istnieje ju\u017c w bazie danych"},weatherDescription:{humidity:"Wilgotno\u015b\u0107: ",pressure:"Ci\u015bnienie: ",wind:"Wiatr: ",sunrise:"Wsch\xf3d s\u0142o\u0144ca: ",sunset:"Zach\xf3d s\u0142o\u0144ca: "},weekDaysShortName:{monday:"Pon",tuesday:"Wto",wednesday:"\u015aro",thursday:"Czw",friday:"Pio",saturday:"Sob",sunday:"Niedz"}},w="#218838",O="#dc3545",k="CITIES",C=Object(r.createContext)({}),D=function(e){var n=e.children,t=Object(r.useState)((function(){var e=window.localStorage.getItem(k);return e?JSON.parse(e):[]})),i=Object(u.a)(t,2),c=i[0],o=i[1];Object(r.useEffect)((function(){window.localStorage.setItem(k,JSON.stringify(c))}),[c]);return a.a.createElement(C.Provider,{value:{addCityToDatabase:function(e){if(c.some((function(n){return n===e})))throw new Error(j.errorMessages.cityExistInDb);o([].concat(Object(b.a)(c),[e]))},removeCityFromDatabase:function(e){var n=c.filter((function(n){return n.name!==e}));o(n)},getCities:function(){return c}}},n)},S=t(103);function _(){var e=Object(o.a)(["\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    padding: 1rem;\n"]);return _=function(){return e},e}function N(){var e=Object(o.a)(["\n    font-size: ",";\n    color: #f1faee;\n    padding: 0.5rem;\n"]);return N=function(){return e},e}function z(){var e=Object(o.a)(["\n    width: 100%;\n    min-height: 3.5rem;\n    background-color: #457b9d;\n    position: sticky;\n    display: flex;\n    justify-content: space-between;\n"]);return z=function(){return e},e}var F=l.b.div(z()),T=l.b.span(N(),v),W=l.b.div(_()),M=function(e){var n=e.reloadComponent;return a.a.createElement(F,null,a.a.createElement(T,null,j.appTitle),a.a.createElement(W,null,a.a.createElement(S.a,{style:{fontSize:"3rem",color:"white",cursor:"pointer"},onClick:function(){return n()}})))},P=t(104);function I(){var e=Object(o.a)(["\n    position: fixed;\n    background-color: #457b9d;\n    bottom: 0;\n    right: 0;\n    margin: 1rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;   \n    border-radius: 50%; \n    width: 3rem;\n    height: 3rem;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px 1px #ccc;\n"]);return I=function(){return e},e}var L=l.b.div(I()),A=function(e){return a.a.createElement(L,e,a.a.createElement(P.a,{style:{fontSize:"2rem",color:"white"}}))},J=function(e,n,t){var r;return function(){var a=this,i=arguments;clearTimeout(r),r=setTimeout((function(){r=null,t||e.apply(a,i)}),n),t&&!r&&e.apply(a,i)}},B={getDayNameFromDate:function(e){switch(e.getDay()){case 0:return j.weekDaysShortName.sunday;case 1:return j.weekDaysShortName.monday;case 2:return j.weekDaysShortName.tuesday;case 3:return j.weekDaysShortName.wednesday;case 4:return j.weekDaysShortName.thursday;case 5:return j.weekDaysShortName.friday;default:return j.weekDaysShortName.saturday}}},R=t(7),U=t.n(R);function Z(){var e=Object(o.a)(["\n    font-size: ","\n"]);return Z=function(){return e},e}function $(){var e=Object(o.a)(["\n    font-size: ","\n"]);return $=function(){return e},e}function q(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n\n    color: black;\n    background-color: white;\n    cursor: pointer;\n    padding: 10px;\n\n    &:hover {\n        color: white;\n        background-color: #457b9d;\n    }\n\n    \n"]);return q=function(){return e},e}function G(){var e=Object(o.a)(["\n    background-color:white;\n    position: absolute;\n    width: 100%;\n    border-radius: 10px;\n    border: 1px solid #ccc;\n    display: flex;\n    flex-direction: column;\n    \n"]);return G=function(){return e},e}function H(){var e=Object(o.a)(["\n    position:relative;\n"]);return H=function(){return e},e}function K(){var e=Object(o.a)(["\n    width: 100%;\n    border-radius: 10px;\n    border: 0px;\n    min-height: 40px;\n    user-select: none;\n    outline: none;\n    text-indent: 10px;\n\n    &:hover {\n        outline: none;\n    }\n    &:active {\n        outline: none;\n    }\n"]);return K=function(){return e},e}var Q=l.b.input(K()),V=l.b.div(H()),X=l.b.div(G()),Y=l.b.div(q()),ee=l.b.span($(),h),ne=l.b.span(Z(),x),te=function(e){var n=e.onCityChange,t=e.value,i=Object(r.useState)(!1),c=Object(u.a)(i,2),o=c[0],l=c[1],s=Object(r.useState)([]),d=Object(u.a)(s,2),f=d[0],m=d[1],p=Object(r.useRef)(null);Object(r.useEffect)((function(){return 0===f.length?l(!1):l(!0)}),[f]);var b=Object(r.useCallback)(J((function(e){if(o){if(e.length>0)return;return m([])}var n;(n=e,U.a.get("".concat("https://wft-geo-db.p.rapidapi.com/v1/geo/cities","?namePrefix=").concat(n),{headers:{"x-rapidapi-host":"wft-geo-db.p.rapidapi.com","x-rapidapi-key":"9138ca3a0fmshd3b94ef16318ac9p109401jsnc38699afe50a"}})).then((function(e){var n=e.data.data.map((function(e){return{name:e.city,country:e.country,id:e.id,geometry:{latitude:e.latitude,longitude:e.longitude}}}));m(n)}))}),1e3),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{className:"form-element-container"},a.a.createElement(Q,{ref:p,autoFocus:!0,value:t,onChange:function(e){var t=e.target.value;return n(t)},onInput:function(e){var t=e.target.value;n({name:t}),b(t)},placeholder:j.autocompletePlaceholder}),o&&a.a.createElement(X,null,f.map((function(e){return a.a.createElement(Y,{key:e.id,onClick:function(){return t=e,m([]),void n(t);var t}},a.a.createElement(ee,null,e.name),a.a.createElement(ne,null,e.country))})))))};function re(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 1rem;\n\n    > button {\n        font-size: ",";\n        margin-left: 1rem;\n        min-height: 2rem;\n        margin-left: 1rem;\n        border: unset;\n        border-radius: 5px;\n        color: white;\n        cursor: pointer;\n    }\n"]);return re=function(){return e},e}var ae=l.b.div(re(),E),ie=function(e){var n=e.toggleModal;Object(r.useEffect)((function(){return function(){o({name:""})}}),[]);var t=Object(r.useState)({name:""}),i=Object(u.a)(t,2),c=i[0],o=i[1],l=Object(r.useContext)(C).addCityToDatabase;return a.a.createElement("div",null,a.a.createElement(te,{onCityChange:o,value:c.name}),a.a.createElement(ae,null,a.a.createElement("button",{style:{backgroundColor:O},onClick:n},j.cancel),a.a.createElement("button",{style:{backgroundColor:w},onClick:function(){return function(e){try{l(e),n()}catch(t){console.log(t.message)}}(c)}},j.add)))};function ce(){var e=Object(o.a)(["\n    font-size: ",";\n    padding: 1rem;\n    font-weight: 600;\n"]);return ce=function(){return e},e}function oe(){var e=Object(o.a)(["\n    padding: 1rem;\n"]);return oe=function(){return e},e}function ue(){var e=Object(o.a)(["\n    display:flex;\n    align-items: center\n"]);return ue=function(){return e},e}function le(){var e=Object(o.a)(["\n         top: 0px;\n    "]);return le=function(){return e},e}function se(){var e=Object(o.a)(["\n    z-index: 2;\n    min-width: 40%;\n    background-color: #f0efeb;\n    border-radius: 1rem;\n    position:relative;\n    top: -600px;\n    transition: all .3s ease-out;\n    ","\n"]);return se=function(){return e},e}function de(){var e=Object(o.a)(["\n        opacity: 0.8;\n    "]);return de=function(){return e},e}function fe(){var e=Object(o.a)(["\n    position:absolute;\n    width: 100%;\n    height: 100%;\n    background-color: grey;\n    opacity: 0;\n    transition: opacity .3s ease-out;\n    ","\n    \n"]);return fe=function(){return e},e}function me(){var e=Object(o.a)(["\n    position:absolute;\n    z-index: ",";\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return me=function(){return e},e}var pe=l.b.div(me(),(function(e){return e.visible?1:-1})),be=l.b.div(fe(),(function(e){return e.visible&&Object(l.a)(de())})),ve=l.b.div(se(),(function(e){return e.visible&&Object(l.a)(le())})),ge=l.b.div(ue()),ye=l.b.div(oe()),he=l.b.div(ce(),g),xe=function(e){var n=e.children,t=e.toggleModal,i=Object(r.useState)(!1),c=Object(u.a)(i,2),o=c[0],l=c[1];return Object(r.useEffect)((function(){return setTimeout((function(){l((function(e){return!e}))}),300),function(){return l((function(e){return!e}))}}),[]),a.a.createElement(pe,{visible:o},a.a.createElement(be,{visible:o,onClick:t}),a.a.createElement(ve,{visible:o},a.a.createElement(ge,null,a.a.createElement(he,null,j.modalTitle)),a.a.createElement("hr",{style:{margin:"10px"}}),a.a.createElement(ye,null,n)))};function Ee(){var e=Object(o.a)(["\n    margin: 1rem;\n    box-shadow: 1px 1px 2px 2px #ccc;\n    padding: 1rem;\n    border-radius: 0.5rem\n"]);return Ee=function(){return e},e}var je=l.b.div(Ee()),we=function(e){var n=e.children;return a.a.createElement(je,null,n)},Oe=t(34),ke=t.n(Oe);function Ce(){var e=Object(o.a)(["\n    font-size: ","\n    font-style: italic;\n"]);return Ce=function(){return e},e}function De(){var e=Object(o.a)(["\n    font-size: ",";\n"]);return De=function(){return e},e}function Se(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    user-select: none;\n"]);return Se=function(){return e},e}function _e(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: flex-end;\n"]);return _e=function(){return e},e}function Ne(){var e=Object(o.a)(["\n    flex: auto;\n    display: flex;\n    flex-direction: column; \n"]);return Ne=function(){return e},e}function ze(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return ze=function(){return e},e}var Fe=l.b.div(ze()),Te=l.b.div(Ne()),We=l.b.div(_e()),Me=l.b.div(Se()),Pe=l.b.span(De(),y),Ie=l.b.span(Ce(),h),Le=function(e){var n=e.actions,t=e.title,r=e.subtitle,i=void 0===r?"":r;return a.a.createElement(Fe,null,a.a.createElement(Te,null,a.a.createElement(Pe,null,t),a.a.createElement(Ie,null,i)),a.a.createElement(We,null,a.a.createElement(Me,{onClick:function(){return n.removeCityFromDatabase(t)}},a.a.createElement(ke.a,{style:{padding:"0.5rem"}}))))},Ae=t(15),Je=t.n(Ae),Be=t(35),Re="https://api.openweathermap.org/data/2.5/onecall",Ue=function(e){return U.a.get("".concat(Re,"?lat=").concat(e.latitude,"&lon=").concat(e.longitude,"&exclude=hourly,minutely&appid=").concat("c4c5f18c3b0003d57fd6bb981f5cc019","&units=metric"))};function Ze(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: row;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(o.a)(["\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n"]);return $e=function(){return e},e}function qe(){var e=Object(o.a)(["\n    font-size: ","\n"]);return qe=function(){return e},e}function Ge(){var e=Object(o.a)(["\n    font-weight: 600;\n"]);return Ge=function(){return e},e}function He(){var e=Object(o.a)(["\n    flex: 2;\n    flex-wrap: wrap;\n"]);return He=function(){return e},e}function Ke(){var e=Object(o.a)(["\n    flex: 3;\n    flex-wrap: wrap;\n    display: flex;\n    justify-content: flex-start;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return Qe=function(){return e},e}function Ve(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Ve=function(){return e},e}var Xe=l.b.div(Ve()),Ye=l.b.div(Qe()),en=l.b.div(Ke()),nn=l.b.div(He()),tn=l.b.span(Ge()),rn=l.b.span(qe(),g),an=l.b.div($e()),cn=l.b.div(Ze()),on=function(){var e=Object(Be.a)(Je.a.mark((function e(n){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),un=function(e){return new Date(new Date(0).setSeconds(e))},ln=function(e){var n=e.city.geometry,i=Object(r.useState)(null),c=Object(u.a)(i,2),o=c[0],l=c[1],s=Object(r.useState)(!0),d=Object(u.a)(s,2),f=d[0],m=d[1];return Object(r.useEffect)((function(){on(n).then((function(e){var n=e.data;l({icon:n.current.weather[0].icon,temp:n.current.temp,humidity:n.current.humidity,pressure:n.current.pressure,wind:{speed:n.current.wind_speed,deg:n.current.wind_deg},sys:{sunrise:n.current.sunrise,sunset:n.current.sunset},daily:n.daily.map((function(e){return{icon:e.weather[0].icon,temp:{day:Math.round(e.temp.day),night:Math.round(e.temp.night)},dt:e.dt}}))})}))}),[]),Object(r.useEffect)((function(){o&&m(!1)}),[o]),f?a.a.createElement(a.a.Fragment,null):a.a.createElement(Xe,null,a.a.createElement(Ye,null,a.a.createElement(en,null,a.a.createElement("div",{style:{flex:"auto"}},a.a.createElement("img",{src:t(29)("./".concat(o.icon,".svg")),style:{width:"100%"}})),a.a.createElement("div",{style:{flex:1,paddingRight:"1rem"}},a.a.createElement(rn,null,"".concat(o.temp,"\xb0C")))),a.a.createElement(nn,null,a.a.createElement("p",null,a.a.createElement(tn,null,j.weatherDescription.humidity),"".concat(o.humidity,"%")),a.a.createElement("p",null,a.a.createElement(tn,null,j.weatherDescription.pressure),o.pressure),a.a.createElement("p",null,a.a.createElement(tn,null,j.weatherDescription.wind),"".concat(o.wind.speed,"km/h ").concat(o.wind.deg,"\xb0")),a.a.createElement("p",null,a.a.createElement(tn,null,j.weatherDescription.sunrise),un(o.sys.sunrise).toLocaleString()),a.a.createElement("p",null,a.a.createElement(tn,null,j.weatherDescription.sunset),un(o.sys.sunset).toLocaleString()))),a.a.createElement(cn,null,o.daily.map((function(e,n){return a.a.createElement(an,{key:n},a.a.createElement("span",null,"".concat((r=un(e.dt),B.getDayNameFromDate(r)))),a.a.createElement("img",{src:t(29)("./".concat(e.icon,".svg")),style:{width:"100%"}}),a.a.createElement("span",null,"".concat(e.temp.day,"\xb0  ").concat(e.temp.night,"\xb0")));var r}))))},sn=function(e){var n=e.city,t=e.citiesActions.removeCityFromDatabase,r=n.name,i=n.country;return a.a.createElement(we,null,a.a.createElement(Le,{title:r,subtitle:i,actions:{removeCityFromDatabase:t}}),a.a.createElement(ln,{city:n}))},dn=function(){var e=Object(r.useState)(!1),n=Object(u.a)(e,2),t=n[0],i=n[1],c=Object(r.useState)(new Date),o=Object(u.a)(c,2),l=o[0],s=o[1],d=Object(r.useContext)(C),f=d.getCities,m=d.removeCityFromDatabase,p=function(){return i((function(e){return!e}))};return a.a.createElement("div",{key:l},t&&a.a.createElement(xe,{toggleModal:p},a.a.createElement(ie,{toggleModal:p})),a.a.createElement(M,{reloadComponent:function(){return s(new Date)}}),f().map((function(e){return a.a.createElement(sn,{city:e,key:e.id,citiesActions:{removeCityFromDatabase:m}})})),a.a.createElement(A,{onClick:function(){return i((function(e){return!e}))}}))};function fn(){var e=Object(o.a)(["\n  min-height: 100vh;\n  background-color: #f0efeb;\n"]);return fn=function(){return e},e}var mn=l.b.div(fn());var pn=function(){return a.a.createElement(mn,null,a.a.createElement(p,null,a.a.createElement(D,null,a.a.createElement(dn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(pn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[39,1,2]]]);
//# sourceMappingURL=main.11e9b8f0.chunk.js.map